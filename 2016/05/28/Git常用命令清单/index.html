<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="前端工程师 javascipt css html angular node 设计模式 vue" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="git常用指令总结。">
<meta property="og:type" content="article">
<meta property="og:title" content="Git常用命令清单">
<meta property="og:url" content="http://yoursite.com/2016/05/28/Git常用命令清单/index.html">
<meta property="og:site_name" content="youngpan">
<meta property="og:description" content="git常用指令总结。">
<meta property="og:updated_time" content="2017-02-10T14:50:01.535Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Git常用命令清单">
<meta name="twitter:description" content="git常用指令总结。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'youngpan'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2016/05/28/Git常用命令清单/"/>





  <title> Git常用命令清单 | youngpan </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title"></span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <h1 class="site-subtitle" itemprop="description">前端 angular 设计模式 js javascript css node</h1>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-acticon">
          <a href="/acticons" rel="section">
            
            项目
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/05/28/Git常用命令清单/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="youngpan">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/youngpan.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="youngpan">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="youngpan" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                Git常用命令清单
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-05-28T10:15:53+08:00">
                2016-05-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/git/" itemprop="url" rel="index">
                    <span itemprop="name">git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-eye"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>git常用指令总结。</p>
</blockquote>
<a id="more"></a>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="#配置">配置</a></li>
<li><a href="#修改项目中的个人信息">修改项目中的个人信息</a></li>
<li><a href="#多账号ssh配置">多账号ssh配置</a></li>
<li><a href="#免密登录">免密登录</a></li>
<li><a href="#Git推向3个库">Git推向3个库</a><ul>
<li><a href="#增加3个远程库地址">增加3个远程库地址</a></li>
<li><a href="#删除其中一个-set-url-地址">删除其中一个 set-url 地址</a></li>
<li><a href="#push">push</a></li>
<li><a href="#pull">pull</a></li>
<li><a href="#更改pull">更改pull</a></li>
</ul>
</li>
<li><a href="#新建仓库">新建仓库</a><ul>
<li><a href="#init">init</a></li>
<li><a href="#status">status</a></li>
<li><a href="#add">add</a></li>
<li><a href="#commit">commit</a></li>
<li><a href="#remote">remote</a></li>
<li><a href="#push">push</a></li>
</ul>
</li>
<li><a href="#从现有仓库克隆">从现有仓库克隆</a></li>
<li><a href="#submodule">submodule</a></li>
<li><a href="#本地">本地</a><ul>
<li><a href="#add-1">add</a></li>
<li><a href="#rm">rm</a></li>
<li><a href="#commit-1">commit</a></li>
<li><a href="#reset">reset</a></li>
<li><a href="#revert">revert</a></li>
<li><a href="#checkout">checkout</a></li>
<li><a href="#diff">diff</a></li>
<li><a href="#stash">stash</a></li>
<li><a href="#merge">merge</a></li>
<li><a href="#cherry-pick">cherry-pick</a></li>
<li><a href="#rebase">rebase</a></li>
</ul>
</li>
<li><a href="#分支branch">分支branch</a><ul>
<li><a href="#删除">删除</a></li>
<li><a href="#提交">提交</a></li>
<li><a href="#拉取">拉取</a></li>
<li><a href="#分支合并">分支合并</a></li>
<li><a href="#重命名">重命名</a></li>
<li><a href="#查看">查看</a></li>
<li><a href="#新建">新建</a></li>
<li><a href="#连接">连接</a></li>
<li><a href="#分支切换">分支切换</a></li>
</ul>
</li>
<li><a href="#远端">远端</a><ul>
<li><a href="#撤销远程记录">撤销远程记录</a></li>
<li><a href="#回滚到某个commit并提交">回滚到某个commit并提交</a></li>
</ul>
</li>
<li><a href="#忽略文件">忽略文件</a></li>
<li><a href="#删除文件">删除文件</a></li>
<li><a href="#源remote">源remote</a></li>
<li><a href="#同步一个fork">同步一个fork</a><ul>
<li><a href="#设置">设置</a></li>
<li><a href="#同步">同步</a></li>
</ul>
</li>
<li><a href="#标签tag">标签tag</a></li>
<li><a href="#日志log">日志log</a></li>
<li><a href="#重写历史">重写历史</a></li>
<li><a href="#利用commit关闭一个issue">利用commit关闭一个issue</a></li>
<li><a href="#修改历史commit中的名字和邮箱">修改历史commit中的名字和邮箱</a></li>
<li><a href="#查看某个文件历史">查看某个文件历史</a></li>
<li><a href="#其它">其它</a></li>
<li><a href="#报错问题解决">报错问题解决</a></li>
<li><a href="#参考资料">参考资料</a></li>
</ul>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>首先是配置帐号信息<br><code>ssh -T git@github.com</code> #登陆github  </p>
<h2 id="修改项目中的个人信息"><a href="#修改项目中的个人信息" class="headerlink" title="修改项目中的个人信息"></a>修改项目中的个人信息</h2><p><code>$ git config --global user.name &quot;wirelessqa&quot;</code><br><code>$ git config --global user.email wirelessqa.me@gmail.com</code>  </p>
<h3 id="config"><a href="#config" class="headerlink" title="config"></a>config</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git config --global user.name JSLite    # 设置提交用户名  </div><div class="line">git config --global user.email JSLite@yeah.net  # 设置提交邮箱  </div><div class="line">git config --list         # 查看配置的信息  </div><div class="line">git remote remove origin  # 删除该远程路径  </div><div class="line">git remote add origin git@jslite.github.com:JSLite/JSLite.git  # 添加远程路径</div></pre></td></tr></table></figure>
<h3 id="help"><a href="#help" class="headerlink" title="help"></a>help</h3><p><code>git help config</code> # 获取帮助信息  </p>
<h3 id="配置自动换行（自动转换坑太大）"><a href="#配置自动换行（自动转换坑太大）" class="headerlink" title="配置自动换行（自动转换坑太大）"></a>配置自动换行（自动转换坑太大）</h3><p><code>git config --global core.autocrlf input</code> # 提交到git是自动将换行符转换为lf  </p>
<h3 id="配置密钥"><a href="#配置密钥" class="headerlink" title="配置密钥"></a>配置密钥</h3><p><code>ssh-keygen -t rsa -C JSLite@yeah.net</code> # 生成密钥<br><code>ssh -T git@github.com</code> #测试是否成功  </p>
<h2 id="多账号ssh配置"><a href="#多账号ssh配置" class="headerlink" title="多账号ssh配置"></a>多账号ssh配置</h2><h3 id="1-生成指定名字的密钥"><a href="#1-生成指定名字的密钥" class="headerlink" title="1.生成指定名字的密钥"></a>1.生成指定名字的密钥</h3><p><code>ssh-keygen -t rsa -C &quot;邮箱地址&quot; -f ~/.ssh/github_jslite</code><br>会生成 <code>github_jslite</code> 和 <code>github_jslite.pub</code> 这两个文件  </p>
<h3 id="2-密钥复制到托管平台上"><a href="#2-密钥复制到托管平台上" class="headerlink" title="2.密钥复制到托管平台上"></a>2.密钥复制到托管平台上</h3><p><code>vim ~/.ssh/github_jslite.pub</code><br>打开公钥文件 <code>github_jslite.pub</code> ，并把内容复制至代码托管平台上   </p>
<h3 id="3-修改config文件"><a href="#3-修改config文件" class="headerlink" title="3.修改config文件"></a>3.修改config文件</h3><p><code>vim ~/.ssh/config</code> #修改config文件，如果没有创建 <code>config</code>  </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Host jslite.github.com</div><div class="line">HostName github.com</div><div class="line">User git</div><div class="line">IdentityFile ~/.ssh/github_jslite</div><div class="line"></div><div class="line">Host abc.github.com</div><div class="line">HostName github.com</div><div class="line">User git</div><div class="line">IdentityFile ~/.ssh/github_abc</div></pre></td></tr></table></figure>
<h3 id="4-测试"><a href="#4-测试" class="headerlink" title="4.测试"></a>4.测试</h3><p><code>ssh -T git@jslite.github.com</code> # <code>@</code>后面跟上定义的Host  </p>
<h2 id="免密登录"><a href="#免密登录" class="headerlink" title="免密登录"></a>免密登录</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -P <span class="string">''</span> <span class="_">-f</span> ~/.ssh/aliyunserver.key</div><div class="line">$ ssh-copy-id -i ~/.ssh/aliyunserver.key.pub root@192.168.182.112 <span class="comment"># 这里需要输入密码一次</span></div></pre></td></tr></table></figure>
<p>编辑 <code>~/.ssh/config</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Host aliyun1</div><div class="line">  HostName 192.168.182.112</div><div class="line">  User root</div><div class="line">  PreferredAuthentications publickey</div><div class="line">  IdentityFile ~/.ssh/aliyunserver.key</div></pre></td></tr></table></figure>
<p>上面配置完了，可以通过命令登录，不需要输入IP地址和密码 <code>ssh aliyun1</code></p>
<h2 id="Git推向3个库"><a href="#Git推向3个库" class="headerlink" title="Git推向3个库"></a>Git推向3个库</h2><h3 id="增加3个远程库地址"><a href="#增加3个远程库地址" class="headerlink" title="增加3个远程库地址"></a>增加3个远程库地址</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git remote add origin https://github.com/JSLite/JSLite.git  </div><div class="line">git remote set-url --add origin https://gitlab.com/wang/JSLite.js.git  </div><div class="line">git remote set-url --add origin https://oschina.net/wang/JSLite.js.git</div></pre></td></tr></table></figure>
<h3 id="删除其中一个-set-url-地址"><a href="#删除其中一个-set-url-地址" class="headerlink" title="删除其中一个 set-url 地址"></a>删除其中一个 set-url 地址</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">usage: git remote set-url [--push] &lt;name&gt; &lt;newurl&gt; [&lt;oldurl&gt;]</div><div class="line">   or: git remote set-url --add &lt;name&gt; &lt;newurl&gt;</div><div class="line">   or: git remote set-url --delete &lt;name&gt; &lt;url&gt;</div></pre></td></tr></table></figure>
<p><code>git remote set-url --delete origin https://oschina.net/wang/JSLite.js.git</code></p>
<h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><p><code>git push origin master</code><br><code>git push -f origin master</code>  #强制推送  </p>
<ol>
<li>缩写 -f  </li>
<li>全写–force  </li>
<li>注：强制推送文件没有了哦</li>
</ol>
<h3 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h3><p>只能拉取 <code>origin</code> 里的一个url地址，这个fetch-url<br>默认为你添加的到 <code>origin</code>的第一个地址  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">git pull origin master   </div><div class="line">git pull --all # 获取远程所有内容包括tag  </div><div class="line">git pull origin next:master # 取回origin主机的next分支，与本地的master分支合并  </div><div class="line">git pull origin next # 远程分支是与当前分支合并  </div><div class="line"></div><div class="line"># 上面一条命令等同于下面两条命令   </div><div class="line">git fetch origin  </div><div class="line">git merge origin/next</div></pre></td></tr></table></figure>
<p>如果远程主机删除了某个分支，默认情况下，git pull 不会在拉取远程分支的时候，删除对应的本地分支。这是为了防止，由于其他人操作了远程主机，导致git pull不知不觉删除了本地分支。<br>但是，你可以改变这个行为，加上参数 -p 就会在本地删除远程已经删除的分支。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git pull -p</div><div class="line"># 等同于下面的命令</div><div class="line">$ git fetch --prune origin </div><div class="line">$ git fetch -p</div></pre></td></tr></table></figure>
<h3 id="更改pull"><a href="#更改pull" class="headerlink" title="更改pull"></a>更改pull</h3><p>只需要更改config文件里，那三个url的顺序即可，fetch-url会直接对应排行第一的那个utl连接。    </p>
<h2 id="新建仓库"><a href="#新建仓库" class="headerlink" title="新建仓库"></a>新建仓库</h2><h3 id="init"><a href="#init" class="headerlink" title="init"></a>init</h3><p><code>git init</code> #初始化  </p>
<h3 id="status"><a href="#status" class="headerlink" title="status"></a>status</h3><p><code>git status</code> #获取状态  </p>
<h3 id="add"><a href="#add" class="headerlink" title="add"></a>add</h3><p><code>git add file</code> # .或*代表全部添加<br><code>git rm --cached &lt;added_file_to_undo&gt;</code> # 在commit之前撤销git add操作<br><code>git reset head</code> # 好像比上面<code>git rm --cached</code>更方便  </p>
<h3 id="commit"><a href="#commit" class="headerlink" title="commit"></a>commit</h3><p><code>git commit -m &quot;message&quot;</code> #此处注意乱码  </p>
<h3 id="remote"><a href="#remote" class="headerlink" title="remote"></a>remote</h3><p><code>git remote add origin git@github.com:JSLite/test.git</code> #添加源  </p>
<h3 id="push-1"><a href="#push-1" class="headerlink" title="push"></a>push</h3><p><code>git push -u origin master</code> #push同事设置默认跟踪分支<br><code>git push origin master</code>  </p>
<p>##从现有仓库克隆</p>
<p><code>git clone git://github.com/JSLite/JSLite.js.git</code><br><code>git clone git://github.com/JSLite/JSLite.js.git mypro</code> #克隆到自定义文件夹<br><code>git clone [user@]example.com:path/to/repo.git/</code> #SSH协议还有另一种写法。  </p>
<p>git clone支持多种协议，除了HTTP(s)以外，还支持SSH、Git、本地文件协议等，下面是一些例子。<code>$ git clone &lt;版本库的网址&gt; &lt;本地目录名&gt;</code>  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ git clone http[s]://example.com/path/to/repo.git/</div><div class="line">$ git clone ssh://example.com/path/to/repo.git/</div><div class="line">$ git clone git://example.com/path/to/repo.git/</div><div class="line">$ git clone /opt/git/project.git </div><div class="line">$ git clone file:///opt/git/project.git</div><div class="line">$ git clone ftp[s]://example.com/path/to/repo.git/</div><div class="line">$ git clone rsync://example.com/path/to/repo.git/</div></pre></td></tr></table></figure>
<h2 id="submodule"><a href="#submodule" class="headerlink" title="submodule"></a>submodule</h2><p><code>git submodule add --force 仓库地址 路径</code><br>其中，仓库地址是指子模块仓库地址，路径指将子模块放置在当前工程下的路径。<br>注意：路径不能以 / 结尾（会造成修改不生效）、不能是现有工程已有的目录（不能順利 Clone）<br><code>git submodule init</code> 初始化submodule<br><code>git submodule update</code> 更新submodule(必须在根目录执行命令)  </p>
<p>当使用git clone下来的工程中带有submodule时，初始的时候，submodule的内容并不会自动下载下来的，此时，只需执行如下命令：<br><code>git submodule update --init --recursive</code> 下载的工程带有submodule   </p>
<p><code>git submodule foreach git pull</code> submodule 里有其他的 submodule 一次更新<br><code>git submodule foreach git pull origin master</code> submodule更新  </p>
<p><code>git submodule foreach --recursive git submodule init</code><br><code>git submodule foreach --recursive git submodule update</code>   </p>
<h2 id="本地"><a href="#本地" class="headerlink" title="本地"></a>本地</h2><h3 id="add-1"><a href="#add-1" class="headerlink" title="add"></a>add</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git add *   # 跟踪新文件   </div><div class="line">git add -u [path]   # 添加[指定路径下]已跟踪文件</div></pre></td></tr></table></figure>
<h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">rm *&amp;git rm *          # 移除文件  </div><div class="line">git rm -f *            # 移除文件  </div><div class="line">git rm --cached *      # 取消跟踪  </div><div class="line">git mv file_from file_to  # 重命名跟踪文件  </div><div class="line">git log   # 查看提交记录</div></pre></td></tr></table></figure>
<h3 id="commit-1"><a href="#commit-1" class="headerlink" title="commit"></a>commit</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">git commit #提交更新   </div><div class="line">git commit -m &apos;message&apos; #提交说明   </div><div class="line">git commit -a #跳过使用暂存区域，把所有已经跟踪过的文件暂存起来一并提交   </div><div class="line">git commit --amend #修改最后一次提交   </div><div class="line">git commit log #查看所有提交，包括没有push的commit    </div><div class="line">git commit -m &quot;#133&quot; #关联issue 任意位置带上# 符号加上issue号码  </div><div class="line">git commit -m &quot;fix #133&quot; commit关闭issue  </div><div class="line">git commit -m &apos;概要描述&apos;$&apos;\n\n&apos;&apos;1.详细描述&apos;$&apos;\n&apos;&apos;2.详细描述&apos; #提交简要描述和详细描述</div></pre></td></tr></table></figure>
<h3 id="reset"><a href="#reset" class="headerlink" title="reset"></a>reset</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git reset HEAD *  # 取消已经暂存的文件   </div><div class="line">git reset --mixed HEAD * # 同上   </div><div class="line">git reset --soft HEAD *  # 重置到指定状态，不会修改索引区和工作树   </div><div class="line">git reset --hard HEAD *  # 重置到指定状态，会修改索引区和工作树   </div><div class="line">git reset -- files *     # 重置index区文件</div></pre></td></tr></table></figure>
<h3 id="revert"><a href="#revert" class="headerlink" title="revert"></a>revert</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git revert HEAD   # 撤销前一次操作   </div><div class="line">git revert HEAD~  # 撤销前前一次操作   </div><div class="line">git revert commit # 撤销指定操作</div></pre></td></tr></table></figure>
<h3 id="checkout"><a href="#checkout" class="headerlink" title="checkout"></a>checkout</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git checkout -- file  # 取消对文件的修改（从暂存区——覆盖worktree file）  </div><div class="line">git checkout branch|tag|commit -- file_name  # 从仓库取出file覆盖当前分支   </div><div class="line">git checkout HEAD~1 [文件]  # 将会更新 working directory 去匹配某次 commit   </div><div class="line">git checkout -- .          # 从暂存区取出文件覆盖工作区   </div><div class="line">git checkout -b gh-pages  0c304c9  # 这个表示 从当前分支 commit 哈希值为 0c304c9 的节点，分一个新的分支gh-pages出来，并切换到 gh-pages</div></pre></td></tr></table></figure>
<h3 id="diff"><a href="#diff" class="headerlink" title="diff"></a>diff</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">git diff file     # 查看指定文件的差异   </div><div class="line">git diff --stat   # 查看简单的diff结果   </div><div class="line">git diff  # 比较Worktree和Index之间的差异   </div><div class="line">git diff --cached   # 比较Index和HEAD之间的差异   </div><div class="line">git diff HEAD       # 比较Worktree和HEAD之间的差异   </div><div class="line">git diff branch     # 比较Worktree和branch之间的差异   </div><div class="line">git diff branch1 branch2  # 比较两次分支之间的差异   </div><div class="line">git diff commit commit    # 比较两次提交之间的差异   </div><div class="line">git diff master..test   # 上面这条命令只显示两个分支间的差异  </div><div class="line">git diff master...test    # 你想找出‘master’,‘test’的共有 父分支和&apos;test&apos;分支之间的差异，你用3个‘.&apos;来取代前面的两个&apos;.&apos;</div></pre></td></tr></table></figure>
<h3 id="stash"><a href="#stash" class="headerlink" title="stash"></a>stash</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git stash # 将工作区现场（已跟踪文件）储藏起来，等以后恢复后继续工作。   </div><div class="line">git stash list  # 查看保存的工作现场   </div><div class="line">git stash apply # 恢复工作现场   </div><div class="line">git stash drop  # 删除stash内容   </div><div class="line">git stash pop   # 恢复的同时直接删除stash内容   </div><div class="line">git stash apply stash@&#123;0&#125; # 恢复指定的工作现场，当你保存了不只一份工作现场时。</div></pre></td></tr></table></figure>
<h3 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h3><p><code>git merge --squash test</code> ##合并压缩，将test上的commit压缩为一条   </p>
<h3 id="cherry-pick"><a href="#cherry-pick" class="headerlink" title="cherry-pick"></a>cherry-pick</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git cherry-pick commit    # 拣选合并，将commit合并到当前分支   </div><div class="line">git cherry-pick -n commit # 拣选多个提交，合并完后可以继续拣选下一个提交</div></pre></td></tr></table></figure>
<h3 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git rebase master   # 将master分之上超前的提交，变基到当前分支  </div><div class="line">git rebase --onto master 169a6  # 限制回滚范围，rebase当前分支从169a6以后的提交  </div><div class="line">git rebase --interactive # 交互模式，修改commit   </div><div class="line">git rebase --continue    # 处理完冲突继续合并   </div><div class="line">git rebase --skip   # 跳过   </div><div class="line">git rebase --abort  # 取消合并</div></pre></td></tr></table></figure>
<h2 id="分支branch"><a href="#分支branch" class="headerlink" title="分支branch"></a>分支branch</h2><h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git push origin :branchName  #删除远程分支  </div><div class="line">git push origin --delete new #删除远程分支new   </div><div class="line">git branch -d branchName     #删除本地分支，强制删除用-D  </div><div class="line">git branch -d test #删除本地test分支   </div><div class="line">git branch -D test #强制删除本地test分支</div></pre></td></tr></table></figure>
<h3 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h3><p><code>git push -u origin branchName</code> #提交分支到远程origin主机中  </p>
<h3 id="拉取"><a href="#拉取" class="headerlink" title="拉取"></a>拉取</h3><p><code>git fetch -p</code> #拉取远程分支时，自动清理 远程分支已删除，本地还存在的对应同名分支。  </p>
<h3 id="分支合并"><a href="#分支合并" class="headerlink" title="分支合并"></a>分支合并</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git merge branchName      # 合并分支 - 将分支branchName和当前所在分支合并   </div><div class="line">git merge origin/master   # 在本地分支上合并远程分支。   </div><div class="line">git rebase origin/master  # 在本地分支上合并远程分支。   </div><div class="line">git merge test            # 将test分支合并到当前分支</div></pre></td></tr></table></figure>
<h3 id="重命名"><a href="#重命名" class="headerlink" title="重命名"></a>重命名</h3><p><code>git branch -m old new</code> #重命名分支  </p>
<h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git branch      # 列出本地分支   </div><div class="line">git branch -r   # 列出远端分支   </div><div class="line">git branch -a   # 列出所有分支   </div><div class="line">git branch -v   # 查看各个分支最后一个提交对象的信息   </div><div class="line">git branch --merge      # 查看已经合并到当前分支的分支   </div><div class="line">git branch --no-merge   # 查看为合并到当前分支的分支</div></pre></td></tr></table></figure>
<h3 id="新建"><a href="#新建" class="headerlink" title="新建"></a>新建</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git branch test # 新建test分支  </div><div class="line">git checkout -b newBrach origin/master # 取回远程主机的更新以后，在它的基础上创建一个新的分支</div></pre></td></tr></table></figure>
<h3 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git branch --set-upstream dev origin/dev     # 将本地dev分支与远程dev分支之间建立链接  </div><div class="line">git branch --set-upstream master origin/next # 手动建立追踪关系</div></pre></td></tr></table></figure>
<h3 id="分支切换"><a href="#分支切换" class="headerlink" title="分支切换"></a>分支切换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git checkout test     # 切换到test分支   </div><div class="line">git checkout -b test  # 新建+切换到test分支   </div><div class="line">git checkout -b test dev # 基于dev新建test分支，并切换</div></pre></td></tr></table></figure>
<h2 id="远端"><a href="#远端" class="headerlink" title="远端"></a>远端</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">git fetch &lt;远程主机名&gt; &lt;分支名&gt;   # fetch取回所有分支（branch）的更新  </div><div class="line">git fetch origin remotebranch[:localbranch]   #  从远端拉去分支[到本地指定分支]   </div><div class="line">git merge origin/branch   # 合并远端上指定分支   </div><div class="line">git pull origin remotebranch:localbranch  #  拉去远端分支到本地分支   </div><div class="line">git push origin branch    # 将当前分支，推送到远端上指定分支   </div><div class="line">git push origin localbranch:remotebranch  # 推送本地指定分支，到远端上指定分支   </div><div class="line">git push origin :remotebranch   # 删除远端指定分支   </div><div class="line">git checkout -b [--track] test origin/dev # 基于远端dev分支，新建本地test分支[同时设置跟踪]</div></pre></td></tr></table></figure>
<h3 id="撤销远程记录"><a href="#撤销远程记录" class="headerlink" title="撤销远程记录"></a>撤销远程记录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git reset --hard HEAD~1 # 撤销一条记录   </div><div class="line">git push -f origin HEAD:master # 同步到远程仓库</div></pre></td></tr></table></figure>
<h2 id="回滚到某个commit并提交"><a href="#回滚到某个commit并提交" class="headerlink" title="回滚到某个commit并提交"></a>回滚到某个commit并提交</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git revert HEAD~1 # 撤销一条记录 会弹出 commit 编辑</div><div class="line">git push # 提交回滚</div></pre></td></tr></table></figure>
<h2 id="忽略文件"><a href="#忽略文件" class="headerlink" title="忽略文件"></a>忽略文件</h2><p><code>echo node_modules/ &gt;&gt; .gitignore</code>  </p>
<h2 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h2><p><code>git rm -rf node_modules/</code>  </p>
<h2 id="源remote"><a href="#源remote" class="headerlink" title="源remote"></a>源remote</h2><p>git是一个分布式代码管理工具，所以可以支持多个仓库，在git里，服务器上的仓库在本地称之为remote。<br>个人开发时，多源用的可能不多，但多源其实非常有用。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git remote add origin1 git@github.com:yanhaijing/data.js.git  </div><div class="line">git remote    # 显示全部源  </div><div class="line">git remote -v # 显示全部源+详细信息  </div><div class="line">git remote rename origin1 origin2 # 重命名  </div><div class="line">git remote rm origin    # 删除  </div><div class="line">git remote show origin  # 查看指定源的全部信息</div></pre></td></tr></table></figure>
<h2 id="同步一个fork"><a href="#同步一个fork" class="headerlink" title="同步一个fork"></a>同步一个fork</h2><p><a href="https://help.github.com/articles/syncing-a-fork/" target="_blank" rel="external">github教程</a><br><a href="http://www.miss77.net/549.html" target="_blank" rel="external">在github上同步一个分支(fork)</a>  </p>
<h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p>在同步之前，需要创建一个远程点指向上游仓库(repo).如果你已经派生了一个原始仓库，可以按照如下方法做。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ git remote -v</div><div class="line"># List the current remotes （列出当前远程仓库）</div><div class="line"># origin  https://github.com/user/repo.git (fetch)</div><div class="line"># origin  https://github.com/user/repo.git (push)</div><div class="line">$ git remote add upstream https://github.com/otheruser/repo.git</div><div class="line"># Set a new remote (设置一个新的远程仓库)</div><div class="line">$ git remote -v</div><div class="line"># Verify new remote (验证新的原唱仓库)</div><div class="line"># origin    https://github.com/user/repo.git (fetch)</div><div class="line"># origin    https://github.com/user/repo.git (push)</div><div class="line"># upstream  https://github.com/otheruser/repo.git (fetch)</div><div class="line"># upstream  https://github.com/otheruser/repo.git (push)</div></pre></td></tr></table></figure>
<h3 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h3><p>同步上游仓库到你的仓库需要执行两步：首先你需要从远程拉去，之后你需要合并你希望的分支到你的本地副本分支。</p>
<p>从上游的存储库中提取分支以及各自的提交内容。 <code>master</code> 将被存储在本地分支机构 <code>upstream/master</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">git fetch upstream</div><div class="line"># remote: Counting objects: 75, done.</div><div class="line"># remote: Compressing objects: 100% (53/53), done.</div><div class="line"># remote: Total 62 (delta 27), reused 44 (delta 9)</div><div class="line"># Unpacking objects: 100% (62/62), done.</div><div class="line"># From https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY</div><div class="line">#  * [new branch]      master     -&gt; upstream/master</div></pre></td></tr></table></figure>
<p>检查你的 fork’s 本地 <code>master</code> 分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git checkout master</div><div class="line"># Switched to branch &apos;master&apos;</div></pre></td></tr></table></figure>
<p>合并来自 <code>upstream/master</code> 的更改到本地 master  分支上。  这使你的前 fork’s <code>master</code> 分支与上游资源库同步，而不会丢失你本地修改。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">git merge upstream/master</div><div class="line"># Updating a422352..5fdff0f</div><div class="line"># Fast-forward</div><div class="line">#  README                    |    9 -------</div><div class="line">#  README.md                 |    7 ++++++</div><div class="line">#  2 files changed, 7 insertions(+), 9 deletions(-)</div><div class="line">#  delete mode 100644 README</div><div class="line">#  create mode 100644 README.md</div></pre></td></tr></table></figure>
<h2 id="标签tag"><a href="#标签tag" class="headerlink" title="标签tag"></a>标签tag</h2><p>当开发到一定阶段时，给程序打标签是非常棒的功能。<br><code>git tag</code> #列出现有标签<br><code>git tag v0gi.1</code> #新建标签<br><code>git tag -a v0.1 -m &#39;my version 1.4&#39;</code> #新建带注释标签<br><code>git checkout tagname</code> #切换到标签<br><code>git push origin v1.5</code> #推送分支到源上<br><code>git push origin --tags</code> #一次性推送所有分支<br><code>git tag -d v0.1</code> #删除标签<br><code>git push origin :refs/tags/v0.1</code> #删除远程标签<br><code>git pull --all</code> #获取远程所有内容包括tag<br><code>git --git-dir=&#39;&lt;绝对地址&gt;/.git&#39; describe --tags HEAD</code> #查看本地版本信息  </p>
<h2 id="日志log"><a href="#日志log" class="headerlink" title="日志log"></a>日志log</h2><p><code>git config format.pretty oneline</code>  #显示历史记录时，每个提交的信息只显示一行<br><code>git config color.ui true</code> #彩色的 git 输出<br><code>git log</code> #查看最近的提交日志<br><code>git log --pretty=oneline</code> #单行显示提交日志<br><code>git log --graph --pretty=oneline --abbrev-commit</code><br><code>git log -num</code> #显示第几条log（倒数）<br><code>git reflog</code> #查看所有分支的所有操作记录<br><code>git log --since=1.day</code> #一天内的提交；你可以给出各种时间格式，比如说具体的某一天（“2008-01-15”），或者是多久以前（“2 years 1 day 3 minutes ago”）。<br><code>git log --pretty=&quot;%h - %s&quot; --author=自己的名字</code> #查看自己的日志<br><code>git log -p -2</code> #展开两次更新显示每次提交的内容差异<br><code>git log --stat</code> #要快速浏览其他协作者提交的更新都作了哪些改动<br><code>git log --pretty=format:&quot;%h - %an, %ar : %s&quot;</code>#定制要显示的记录格式<br><code>git log --pretty=format:&#39;%h : %s&#39; --date-order --graph</code>#拓扑顺序展示<br><code>git log --pretty=format:&#39;%h : %s - %ad&#39; --date=short</code> #日期YYYY-MM-DD显示<br><code>git log &lt;last tag&gt; HEAD --pretty=format:%s</code> 只显示commit   </p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>%H</td>
<td>提交对象（commit）的完整哈希字串</td>
</tr>
<tr>
<td>%h</td>
<td>提交对象的简短哈希字串</td>
</tr>
<tr>
<td>%T</td>
<td>树对象（tree）的完整哈希字串</td>
</tr>
<tr>
<td>%t</td>
<td>树对象的简短哈希字串</td>
</tr>
<tr>
<td>%P</td>
<td>父对象（parent）的完整哈希字串</td>
</tr>
<tr>
<td>%p</td>
<td>父对象的简短哈希字串</td>
</tr>
<tr>
<td>%an</td>
<td>作者（author）的名字</td>
</tr>
<tr>
<td>%ae</td>
<td>作者的电子邮件地址</td>
</tr>
<tr>
<td>%ad</td>
<td>作者修订日期（可以用 -date= 选项定制格式）</td>
</tr>
<tr>
<td>%ar</td>
<td>作者修订日期，按多久以前的方式显示</td>
</tr>
<tr>
<td>%cn</td>
<td>提交者(committer)的名字</td>
</tr>
<tr>
<td>%ce</td>
<td>提交者的电子邮件地址</td>
</tr>
<tr>
<td>%cd</td>
<td>提交日期</td>
</tr>
<tr>
<td>%cr</td>
<td>提交日期，按多久以前的方式显示</td>
</tr>
<tr>
<td>%s</td>
<td>提交说明</td>
</tr>
</tbody>
</table>
<h2 id="重写历史"><a href="#重写历史" class="headerlink" title="重写历史"></a>重写历史</h2><p><code>git commit --amend</code> #改变最近一次提交<br><code>git rebase -i HEAD~3</code> #修改最近三次的提交说明，或者其中任意一次<br><code>git commit --amend</code> #保存好了，这些指示很明确地告诉了你该干什么<br><code>git rebase --continue</code> 修改提交说明，退出编辑器。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">pick f7f3f6d changed my name a bit</div><div class="line">pick 310154e updated README formatting and added blame</div><div class="line">pick a5f4a0d added cat-file</div></pre></td></tr></table></figure>
<p>改成<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">pick 310154e updated README formatting and added blame</div><div class="line">pick f7f3f6d changed my name a bit</div></pre></td></tr></table></figure></p>
<h2 id="利用commit关闭一个issue"><a href="#利用commit关闭一个issue" class="headerlink" title="利用commit关闭一个issue"></a>利用commit关闭一个issue</h2><p>这个功能在Github上可以玩儿，Gitlab上特别老的版本不能玩儿哦，那么如何跟随着commit关闭一个issue呢? 在confirm merge的时候可以使用一下命令来关闭相关issue:  </p>
<ol>
<li>fixes #xxx</li>
<li>fixed #xxx</li>
<li>fix #xxx</li>
<li>closes #xxx</li>
<li>close #xxx</li>
<li>closed #xxx</li>
</ol>
<h2 id="修改历史commit中的名字和邮箱"><a href="#修改历史commit中的名字和邮箱" class="headerlink" title="修改历史commit中的名字和邮箱"></a>修改历史commit中的名字和邮箱</h2><h3 id="克隆仓库"><a href="#克隆仓库" class="headerlink" title="克隆仓库"></a>克隆仓库</h3><p>注意参数，这个不是普通的clone，clone下来的仓库并不能参与开发</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git clone --bare https://github.com/user/repo.git</div><div class="line">cd repo.git</div></pre></td></tr></table></figure>
<h3 id="命令行中运行代码"><a href="#命令行中运行代码" class="headerlink" title="命令行中运行代码"></a>命令行中运行代码</h3><p>OLD_EMAIL原来的邮箱<br>CORRECT_NAME更正的名字<br>CORRECT_EMAIL更正的邮箱  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">% git filter-branch --env-filter &apos;</div><div class="line">OLD_EMAIL=&quot;wowohoo@qq.com&quot;</div><div class="line">CORRECT_NAME=&quot;小弟调调&quot;</div><div class="line">CORRECT_EMAIL=&quot;12345678@qq.com&quot;</div><div class="line">if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</div><div class="line">then</div><div class="line">    export GIT_COMMITTER_NAME=&quot;$CORRECT_NAME&quot;</div><div class="line">    export GIT_COMMITTER_EMAIL=&quot;$CORRECT_EMAIL&quot;</div><div class="line">fi</div><div class="line">if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</div><div class="line">then</div><div class="line">    export GIT_AUTHOR_NAME=&quot;$CORRECT_NAME&quot;</div><div class="line">    export GIT_AUTHOR_EMAIL=&quot;$CORRECT_EMAIL&quot;</div><div class="line">fi</div><div class="line">&apos; --tag-name-filter cat -- --branches --tags</div></pre></td></tr></table></figure>
<p>执行过程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Rewrite 160d4df2689ff6df3820563bfd13b5f1fb9ba832 (479/508) (16 seconds passed, remaining 0 predicted)</div><div class="line">Ref &apos;refs/heads/dev&apos; was rewritten</div><div class="line">Ref &apos;refs/heads/master&apos; was rewritten</div></pre></td></tr></table></figure>
<h3 id="同步到远程仓库"><a href="#同步到远程仓库" class="headerlink" title="同步到远程仓库"></a>同步到远程仓库</h3><p>同步到push远程git仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push --force --tags origin <span class="string">'refs/heads/*'</span></div></pre></td></tr></table></figure>
<p>当上面的push 不上去的时候，先 <code>git pull</code> 确保最新代码，<code>Gitlab</code>的分支保护，在项目设置菜单下面的<code>Protected branches</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git pull  --allow-unrelated-histories</div><div class="line"><span class="comment"># 或者指定分枝</span></div><div class="line">git pull origin master ----allow-unrelated-histories</div></pre></td></tr></table></figure>
<h3 id="删除仓库"><a href="#删除仓库" class="headerlink" title="删除仓库"></a>删除仓库</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd ..</div><div class="line">rm -rf repo.git</div></pre></td></tr></table></figure>
<p><a href="https://help.github.com/articles/changing-author-info/" target="_blank" rel="external">官方教程</a></p>
<h2 id="查看某个文件历史"><a href="#查看某个文件历史" class="headerlink" title="查看某个文件历史"></a>查看某个文件历史</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git log --pretty=oneline 文件名  # 列出文件的所有改动历史  </div><div class="line">git show c178bf49   # 某次的改动的修改记录  </div><div class="line">git log -p c178bf49 # 某次的改动的修改记录  </div><div class="line">git blame 文件名     # 显示文件的每一行是在那个版本最后修改。  </div><div class="line">git whatchanged 文件名  # 显示某个文件的每个版本提交信息：提交日期，提交人员，版本号，提交备注（没有修改细节）</div></pre></td></tr></table></figure>
<h2 id="打造自己的git命令"><a href="#打造自己的git命令" class="headerlink" title="打造自己的git命令"></a>打造自己的git命令</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git config --global alias.st status</div><div class="line">git config --global alias.br branch</div><div class="line">git config --global alias.co checkout</div><div class="line">git config --global alias.ci commit</div></pre></td></tr></table></figure>
<p>配置好后再输入git命令的时候就不用再输入一大段了，例如我们要查看状态，只需：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git st</div></pre></td></tr></table></figure>
<h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git help *  # 获取命令的帮助信息  </div><div class="line">git status  # 获取当前的状态，非常有用，因为git会提示接下来的能做的操作</div></pre></td></tr></table></figure>
<h2 id="报错问题解决"><a href="#报错问题解决" class="headerlink" title="报错问题解决"></a>报错问题解决</h2><p><strong>1. <code>git fatal: protocol error: bad line length character: No s</code></strong></p>
<p>解决办法：更换remote地址为 <code>http/https</code> 的  </p>
<p><strong>2. <code>The requested URL returned error: 403 Forbidden while accessing</code></strong></p>
<p>解决github push错误的办法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">#vim 编辑器打开 当前项目中的config文件</div><div class="line">vim .git/config</div><div class="line"></div><div class="line">#修改</div><div class="line">[remote &quot;origin&quot;]  </div><div class="line">    url = https://github.com/jaywcjlove/example.git  </div><div class="line"></div><div class="line">#为下面代码</div><div class="line">[remote &quot;origin&quot;]  </div><div class="line">    url = https://jaywcjlove@github.com/jaywcjlove/example.git</div></pre></td></tr></table></figure>
<p><strong>3. git status 显示中文问题</strong></p>
<p>在查看状态的时候 git status 如果是中文就显示下面的情况</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">\344\272\247\345\223\201\351\234\200\346\261\202</div></pre></td></tr></table></figure>
<p>解决这个问题方法是：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config --global core.quotepath <span class="literal">false</span></div></pre></td></tr></table></figure>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="http://git-scm.com/" target="_blank" rel="external">Git官网</a></li>
<li><a href="https://try.github.io" target="_blank" rel="external"><strong>Github 15分钟学习Git</strong></a></li>
<li><a href="http://gitref.org/zh/index.html" target="_blank" rel="external">Git参考手册</a></li>
<li><a href="http://www.mceiba.com/tool/git-cheat-sheet.html" target="_blank" rel="external">Git简明手册</a></li>
<li><a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/zh_cn/" target="_blank" rel="external">Git Magic</a></li>
<li><a href="http://gitbook.liuhui998.com/index.html" target="_blank" rel="external">Git Community Book 中文版</a></li>
<li><a href="http://git-scm.com/book/en/v2" target="_blank" rel="external">Pro Git</a></li>
<li><a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html" target="_blank" rel="external">图解Git</a></li>
<li><a href="http://rogerdudler.github.io/git-guide/index.zh.html" target="_blank" rel="external">git-简明指南</a></li>
<li><a href="http://pcottle.github.io/learnGitBranching/" target="_blank" rel="external">learnGitBranching 在线学习工具</a></li>
<li><a href="http://rogerdudler.github.io/git-guide/index.zh.html" target="_blank" rel="external">初级教程</a> </li>
<li><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">廖雪峰的Git教程</a></li>
<li><a href="http://www.worldhello.net/gotgithub/" target="_blank" rel="external">蒋鑫老师将带你入github的大门</a></li>
<li><a href="http://www.open-open.com/lib/view/open1328069609436.html" target="_blank" rel="external">git详解</a></li>
<li><a href="http://git.oschina.net/progit/" target="_blank" rel="external">oschina教程</a></li>
<li><a href="https://github.com/blog/2019-how-to-undo-almost-anything-with-git" target="_blank" rel="external">How to undo (almost) anything with Git撤销一切，汇总各种回滚撤销的场景，加强学习。</a></li>
<li><a href="http://www.runoob.com/git/git-tutorial.html" target="_blank" rel="external">Git 教程 | 菜鸟教程runoob.com</a></li>
<li><a href="https://gold.xitu.io/post/5842f9b861ff4b005889ade6" target="_blank" rel="external">Git 本地仓库和裸仓库</a></li>
<li><a href="http://www.kancloud.cn/kancloud/igit/46710" target="_blank" rel="external">沉浸式学 Git</a></li>
<li><a href="http://way.oschina.io/2016/12/15/notes/GitAdvance/?utm_source=gank.io&amp;utm_medium=email" target="_blank" rel="external">Git进阶用法，主要是rebase高级用法</a></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/05/27/REM布局/" rel="next" title="REM布局">
                <i class="fa fa-chevron-left"></i> REM布局
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/06/13/prototype与__proto__的区别/" rel="prev" title="__proto__与prototype的区别">
                __proto__与prototype的区别 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/youngpan.jpg"
               alt="youngpan" />
          <p class="site-author-name" itemprop="name">youngpan</p>
          <p class="site-description motion-element" itemprop="description">做一个有态度的人。</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">随记</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/fingerpan" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        


<div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa base-color beat-love-icon fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">youngpan</span>
</div>
<div clasee="power-by">
 <b class="music">
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
    </b>
    <span>Published with <a href="https://hexo.io" target="_blank">Hexo</a> using <a clasee="theme-link" href="http://theme-next.iissnan.com/" target="_blank">NexT</a> theme, hosted on Github.</span>
</div>




        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  
      <!-- UY BEGIN -->
      <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid="></script>
      <!-- UY END -->
  




  
  

  

  

  

  


</body>
</html>
